(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{262:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"typeorm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#typeorm"}},[t._v("#")]),t._v(" TypeORM")]),t._v(" "),a("p",[t._v('简单的说， ORM  就是通过实例对象的语法，完成关系型数据库的技术，是 "对象-关系映射"（Object/RelationalMapping）的缩写。')]),t._v(" "),a("p",[t._v("数据库的表 table -> class\n记录 record 行数据 -> 对象 object\n字段 field -> 对象的属性 attribute")]),t._v(" "),a("p",[t._v("https://www.wangbase.com/blogimg/asset/201902/bg2019021803.png")]),t._v(" "),a("p",[t._v("ORM 思想: 编程语言优先，不碰 SQL 语言就能与数据库进行交互。")]),t._v(" "),a("h2",{attrs:{id:"typeorm-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#typeorm-2"}},[t._v("#")]),t._v(" TypeORM")]),t._v(" "),a("p",[t._v("TypeORM 是一种 ORM, 可以在 Node.js 浏览器， Cordova， PhoneGap，Ionic，React Native， NativeScript, Expo 和 Electron 品台上运行， 并且可以与 TypeScript 和 JavaScript  (ES5, ES6, ES7, ES8) 一起使用。其目标是始终支持最新的 JavaScript 功能， 并提供其他功能来帮助您开发数据库的任何类型的应用程序-从带有少量表的小型应用程序到具有多个数据库的大型企业应用程序。")]),t._v(" "),a("p",[t._v("与当前存在的所有其他 JavaScript ORM 不同， TypeORM 支持 Active Record 和 Data Mapper 模式， 这意味您可以以最有效的方式编写高质量，松散耦合，可绳索且可维护的应用程序。")]),t._v(" "),a("p",[t._v("TypeORM 受其他 ORM 影响：")]),t._v(" "),a("ul",[a("li",[t._v("Hibernate")]),t._v(" "),a("li",[t._v("Doctrine")]),t._v(" "),a("li",[t._v("Entity Framework")])]),t._v(" "),a("p",[t._v("TypeORM 的一些功能")]),t._v(" "),a("ul",[a("li",[t._v("同时支持 DataMapper 和 ActiveRecord")]),t._v(" "),a("li",[t._v("实体和列")]),t._v(" "),a("li",[t._v("数据库特定的列类型")]),t._v(" "),a("li",[t._v("实例管理")]),t._v(" "),a("li",[t._v("存储库和自定义存储库")]),t._v(" "),a("li",[t._v("干净对象关系模型")]),t._v(" "),a("li",[t._v("关联（关系）")]),t._v(" "),a("li",[t._v("渴望和懒惰的关系")]),t._v(" "),a("li",[t._v("单向、双向和子引用关系")]),t._v(" "),a("li",[t._v("支持多种继承模式")]),t._v(" "),a("li",[t._v("级联")]),t._v(" "),a("li",[t._v("指标")]),t._v(" "),a("li",[t._v("交易")]),t._v(" "),a("li",[t._v("迁移和自动迁移生成")]),t._v(" "),a("li",[t._v("连接池")]),t._v(" "),a("li",[t._v("复制")]),t._v(" "),a("li",[t._v("使用多个数据库")]),t._v(" "),a("li",[t._v("处理多种数据库类型")]),t._v(" "),a("li",[t._v("跨数据库和跨模式查询")]),t._v(" "),a("li",[t._v("优雅的语法，灵活强大的 QueryBuilder")]),t._v(" "),a("li",[t._v("左连接和内连接")]),t._v(" "),a("li",[t._v("使用联结对查询进行适当的分页")]),t._v(" "),a("li",[t._v("查询缓存")]),t._v(" "),a("li",[t._v("流原始结果")]),t._v(" "),a("li",[t._v("测井")]),t._v(" "),a("li",[t._v("听众和订阅者（hook）")]),t._v(" "),a("li",[t._v("支持闭合表模式")]),t._v(" "),a("li",[t._v("模型或单独的配置文件中的模式声明")]),t._v(" "),a("li",[t._v("json/xml/yml/env 格式的连接配置")]),t._v(" "),a("li",[t._v("支持 MySQL/MariaDB/CockroachDB / SQLite / Microsoft SQL Server / Oracle / SAP Hana / sql.js")]),t._v(" "),a("li",[t._v("支持 MongoDB NoSQL 数据库")]),t._v(" "),a("li",[t._v("在 Node.js / 浏览器 / Ionic / Cordova / React Native / NativeScript / Expo / Electron 平台中工作。")]),t._v(" "),a("li",[t._v("Typecript 和 JavaScript 支持")]),t._v(" "),a("li",[t._v("生成的代码高效，灵活，干净且可维护")]),t._v(" "),a("li",[t._v("遵循所有可能的最佳做法")]),t._v(" "),a("li",[t._v("命令行界面")])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Entity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" PrimaryGenetatedColumn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Column "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'typeorm'")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Entity")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("PrimaryGenetatedColumn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Column")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  firstName"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Column")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  lastName"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \n  @"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Column")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  age"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" user "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nuser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("firstName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Timber'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nuser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lastName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Saw'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("save")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" allUsers "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" User"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" firstUser "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" User"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" timber "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" User"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" firstName"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Timber'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" lastName"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Saw"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" timber"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://www.ruanyifeng.com/blog/2019/02/orm-tutorial.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ORM 实例教程"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);