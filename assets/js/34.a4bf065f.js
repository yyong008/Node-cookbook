(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{318:function(t,s,a){"use strict";a.r(s);var e=a(0),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"第一步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第一步"}},[t._v("#")]),t._v(" 第一步")]),t._v(" "),a("p",[t._v("在这组文章中，您将学习Nest 的核心基础。为了熟悉Nest应用程序的基本构建块，我们将构建一个基本的CRUD应用程序，其功能在入门级别涵盖了很多领域。")]),t._v(" "),a("h2",{attrs:{id:"语言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#语言"}},[t._v("#")]),t._v(" 语言")]),t._v(" "),a("p",[t._v("我们喜欢 TypeScript ，但重要的-我们爱Node.js的。这就是为什么Nest与TypeScript和纯JavaScript兼容的原因。Nest利用了最新的语言功能，因此要将其与原始JavaScript一起使用，我们需要Babel编译器。")]),t._v(" "),a("p",[t._v("我们将在提供的示例中主要使用TypeScript，但是您始终可以将代码段切换为原始JavaScript语法（只需单击即可切换每个代码段右上角的语言按钮）。")]),t._v(" "),a("h2",{attrs:{id:"先决条件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#先决条件"}},[t._v("#")]),t._v(" 先决条件")]),t._v(" "),a("p",[t._v("请确保您的操作系统上已安装Node.js（> = 8.9.0）。")]),t._v(" "),a("h2",{attrs:{id:"设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置"}},[t._v("#")]),t._v(" 设置")]),t._v(" "),a("p",[t._v("使用Nest CLI设置新项目非常简单。随着NPM安装，您可以创建在OS终端下面的命令一个新的 nest 项目：")]),t._v(" "),a("div",{staticClass:"language-Shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i -g nest\nnest new project-name\n")])])]),a("p",[t._v("脚手架生成的目录如下：")]),t._v(" "),a("div",{staticClass:"language-tree extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("./\n├── app.controller.spec.ts\n├── app.controller.ts\n├── app.module.ts\n├── app.service.ts\n└── main.ts\n")])])]),a("p",[t._v("以下是这些核心文件的简要概述：")]),t._v(" "),a("p",[t._v("app.controller.ts\t单一路径的基本控制器样本。\napp.module.ts\t应用程序的根模块。\nmain.ts\t使用核心功能NestFactory创建Nest应用程序实例的应用程序的入口文件。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" NestFactory "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/core'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" AppModule "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./app.module'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bootstrap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" NestFactory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("AppModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bootstrap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("要创建Nest应用程序实例，我们使用核心NestFactory类。NestFactory公开了一些静态方法，这些方法允许创建应用程序实例。该create()方法返回一个实现INestApplication接口的应用程序对象。该对象提供了一组方法，这些方法将在接下来的章节中进行介绍。在main.ts上面的示例中，我们仅启动了HTTP侦听器，它使应用程序可以等待入站HTTP请求。")]),t._v(" "),a("p",[t._v("请注意，使用Nest CLI搭建的项目会创建一个初始项目结构，该结构鼓励开发人员遵循将每个模块保留在其专用目录中的约定。")]),t._v(" "),a("h2",{attrs:{id:"平台"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#平台"}},[t._v("#")]),t._v(" 平台")]),t._v(" "),a("p",[t._v("Nest的目标是成为一个与平台无关的框架。平台独立性使创建可重用的逻辑部分成为可能，开发人员可以在多种不同类型的应用程序中利用这些逻辑部分。从技术上讲，一旦创建了适配器，Nest便可以使用任何Node HTTP框架。现成支持两种HTTP平台：express和fastify。您可以选择最适合您的需求。")]),t._v(" "),a("ul",[a("li",[t._v("express: platform-express")]),t._v(" "),a("li",[t._v("fastify: platform-fastify")])]),t._v(" "),a("p",[t._v("无论使用哪种平台，它都会公开自己的应用程序接口。这些分别视为NestExpressApplication和NestFastifyApplication。")]),t._v(" "),a("p",[t._v("当您将类型传递给NestFactory.create()方法时，如下面的示例所示，该app对象将具有该特定平台专用的方法。但是请注意，除非您确实要访问基础平台API，否则无需指定类型。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" NestFactory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("create"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("NestExpressApplication"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("AppModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"运行应用程序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行应用程序"}},[t._v("#")]),t._v(" 运行应用程序")]),t._v(" "),a("p",[t._v("安装过程完成后，您可以在OS命令提示符下运行以下命令，以启动应用程序以侦听入站HTTP请求")]),t._v(" "),a("div",{staticClass:"language-Shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run start\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);